











<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html id="top" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from rsf.fluidproject.org/wiki/Wiki.jsp?page=BeanReasonablenessRationale by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:24:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <title>
    RSF Wiki: BeanReasonablenessRationale
  </title>
  











<link rel="stylesheet" media="screen, projection, print" type="text/css"
     href="templates/default/jspwiki.css"/>

<link rel="stylesheet" type="text/css" media="print" 
     href="templates/default/jspwiki_print.css" />
<!-- INCLUDERESOURCES (stylesheet) -->

<!-- INCLUDERESOURCES (inlinecss) -->



<noscript>
<style type="text/css">
#hiddenmorepopup { display:block; }
</style>
</noscript>


<script type="text/javascript" src="scripts/mootools.js"></script>
<script type="text/javascript" src="scripts/prettify.js"></script>
<script type="text/javascript" src="scripts/jspwiki-common.js"></script>
<script type="text/javascript" src="scripts/jspwiki-commonstyles.js"></script>
<!-- INCLUDERESOURCES (script) -->





<meta name="wikiContext" content='view' />
<meta name="wikiBaseUrl" content='http://rsf.fluidproject.org/wiki/' />
<meta name="wikiPageUrl" content='/wiki/Wiki.jsp?page=%23%24%25' />
<meta name="wikiEditUrl" content='/wiki/Edit.jsp?page=BeanReasonablenessRationale' />
<meta name="wikiJsonUrl" content='/wiki/JSON-RPC' />
<meta name="wikiPageName" content='BeanReasonablenessRationale' />
<meta name="wikiUserName" content='207.119.0.6' />
<meta name="wikiTemplateUrl" content='/wiki/templates/default/' />
<meta name="wikiApplicationName" content='RSF Wiki' />

<script type="text/javascript">//<![CDATA[
/* Localized javascript strings: LocalizedStrings[] */
var LocalizedStrings = {
"javascript.edit.allsections":"( All )",
"javascript.slimbox.error":"<h2>Error</h2>There was a problem with your request.<br />Please try again",
"javascript.slimbox.remoteRequest":"Remote Request {0} of {1}",
"javascript.slimbox.close":"Close &#215;",
"javascript.quick.edit":"[Edit]",
"javascript.sort.descending":"Descending order. Click to reverse sort order",
"javascript.expand":"Click to expand",
"javascript.group.validName":"Please provide a valid name for the new Group",
"javascript.slimbox.next":"Next&raquo;",
"javascript.filter.all":"( All )",
"javascript.edit.areyousure":"Without clicking the Save button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.quick.edit.title":"Edit section {0}...",
"javascript.slimbox.directLink":"Direct Link to the target",
"javascript.prefs.areyousure":"Without clicking the Save User Preferences button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.sbox.clone.suffix":"-New",
"javascript.slimbox.info":"Image {0} of {1}",
"javascript.tip.default.title":"More...",
"javascript.edit.resize":"Drag to resize the text area",
"javascript.edit.findandreplace.nomatch":"No match found!",
"javascript.sort.ascending":"Ascending order. Click to reverse sort order",
"javascript.slimbox.close.title":"Close [Esc]",
"javascript.edit.toolbar.makeSelection":"Please make first a selection.",
"javascript.favs.hide":"Click to hide Favorites",
"javascript.sectionediting.label":"Section Overview",
"javascript.slimbox.previous":"&laquo;Previous",
"javascript.favs.show":"Click to show Favorites",
"javascript.collapse":"Click to collapse",
"javascript.category.title":"Click to show category [{0}] ...",
"javascript.sort.click":"Click to sort",
"javascript.edit.startOfPage":"( Start of page )"
};


/* INCLUDERESOURCES (jsfunction) */

//]]></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="search" href="Wiki702d.html?page=FindPage"
    title='Search RSF Wiki' />
<link rel="help"   href="Wikia3b7.html?page=TextFormattingRules"
    title="Help" />

 <link rel="start"  href="Wikib2ab.html?page=Main"
    title="Front page" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki_print.css"
    title="Print friendly" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki.css"
    title="Standard" />
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />

<link rel="icon" type="image/x-icon" href="images/favicon.ico" />



  









  
  
  
</head>

<body class="view">

<div id="wikibody" class="fav-left">
 
  






<div id="header">

  <div class="titlebox"></div>

  <div class="applicationlogo" > 
    <a href="Wikib2ab.html?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="Login9ed1.html?redirect=BeanReasonablenessRationale" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="UserPreferences9ed1.html?redirect=BeanReasonablenessRationale"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>

  <div class="pagename">BeanReasonablenessRationale</div>

  <div class="searchbox">






<form action="http://rsf.fluidproject.org/wiki/Search.jsp"
        class="wikiform"
           id="searchForm" accept-charset="UTF-8">

  <div style="position:relative">
  <input onblur="if( this.value == '' ) { this.value = this.defaultValue }; return true; "
        onfocus="if( this.value == this.defaultValue ) { this.value = ''}; return true; "
           type="text" value="Quick Navigation"
           name="query" id="query"
           size="20" 
      accesskey="f" />
  <button type="submit"
  		 name="searchSubmit" id="searchSubmit"
  		value="Go!"
  		title="Go!"></button>
  </div>
  <div id="searchboxMenu" style='visibility:hidden;'>
    <div id="searchTools">
      <a href="#" id='quickView' class='action'
      onclick="SearchBox.navigate( 'Wiki195c.html?page=__PAGEHERE__','View the selected page' );"
        title="View the selected page">view</a>
      <a href="#" id='quickEdit' class='action'
      onclick="SearchBox.navigate( 'Logine830.html?page=__PAGEHERE__','Edit the selected page' );"
        title="Edit the selected page">edit</a>
      <a href="#" id='quickClone' class='action'	
      onclick="return SearchBox.navigate( 'Logine830.html?page=__PAGEHERE__', 'Clone the selected page', true );"
        title="Clone the selected page">clone</a>
      <a href="#" id="advancedSearch" class='action'
      onclick="SearchBox.navigate( 'Search136d.html?query=__PAGEHERE__','BeanReasonablenessRationale' )"
        title="Advanced Search [ f ]">find</a>
    </div>
    <div id="searchResult" >
	  Quick search
      <span id="searchTarget" >(type ahead)</span>
      <span id="searchSpin" class="spin" style="position:absolute;display:none;"></span>
	  <div id="searchOutput" ></div>
    </div>
    <div id="recentSearches" style="display:none;">
      Recent Searches
      <span><a href="#" id="recentClear">(Clear)</a></span>
    </div>
  </div>

</form></div>

  <div class="breadcrumbs">Your trail:&nbsp;<a class="wikipage" href="Wikidbdf.html?page=LeftMenuFooter">LeftMenuFooter</a>, <a class="wikipage" href="Wiki5d1a.html?page=LoginError">LoginError</a>, <a class="wikipage" href="Wikid670.html?page=RSFSWFPlanning">RSFSWFPlanning</a>, <a class="wikipage" href="Wiki0e52.html?page=AJAX/screenshot.png">AJAX/screenshot.png</a>, <a class="wikipage" href="Wiki232b.html?page=Anniversaries/DSC02750-cropped.jpg">Anniversaries/DSC02750-cropped.jpg</a>, <a class="wikipage" href="Wiki0950.html?page=Anniversaries/rsf-2ndCake.jpg">Anniversaries/rsf-2ndCake.jpg</a>, <a class="wikipage" href="Wikia22c.html?page=AttachmentsIteratorTag">AttachmentsIteratorTag</a>, <a class="wikipage" href="Wikibeb6.html?page=AuthorTag">AuthorTag</a>, <a class="wikipage" href="Wikiefb5.html?page=BCEL">BCEL</a>, <a class="wikipage" href="Wiki9fea.html?page=BeanFetchBracketer">BeanFetchBracketer</a></div>

</div>

  <div id="content">

    <div id="page">
      





<div id="actionsTop" class="pageactions"> 
  <ul>

    
    
    

    
    <li id="morebutton">
      <a href="Wiki81b4.html?page=MoreMenu" class="action more">More...</a>
    </li>

  </ul>
</div>

      








<div class="tabmenu">

  

  

  
  
  
    
  
    
  



  <a class="activetab" id="menu-pagecontent" accesskey="v" ><span class='accesskey'>V</span>iew</a>

  

  
  <a id="menu-attach" accesskey="a" ><span class='accesskey'>A</span>ttach</a>
  
    
  <a id="menu-info" href='PageInfo91dd.html?page=BeanReasonablenessRationale' accesskey="i" ><span class='accesskey'>I</span>nfo</a>
    
  

</div>
<div class="tabs">

  <div id="pagecontent" >

    











<p>See the main page on <a class="wikipage" href="Wiki341c.html?page=BeanReasonableness">BeanReasonableness</a> for the core principles of BeanReasonableness. This page is a repository for (early) thinking on the rationale behind BeanReasonableness, with a special emphasis on Hibernate. We will begin with a now defunct component of BeanReasonableness, rule 3 - 
</p><p>3. As any serialisation operation starts, the contents of the bean container are to be considered &quot;dead&quot; - no weird dynamic activity may now be triggered, and they are to be considered equivalent to the same model as implemented in <a class="wikipage" href="Wiki5ad5.html?page=Peas">Peas</a>. To get this to actually work in the face of beans provided by someone who isn't following this model requires some <a class="wikipage" href="Wikibcf8.html?page=ObstinateMap">obstinacy</a>
</p>
<div style=" background-color: #ffc0c0; border: 1px dotted black; padding: 1em; ">
NOTE: after further investigation on the possibilities of Hiberate, it now appears that imposing condition 3 above simply isn't economic in a Hibernate environment. See the <a class="wikipage" href="Wiki96a7.html?page=DeadBeans">DeadBeans</a> page for discussion and the new solution.
</div>
<h3 id="section-BeanReasonablenessRationale-WhyIsSuchAConventionDesirable"> Why is such a convention desirable?<a class="hashlink" href="#section-BeanReasonablenessRationale-WhyIsSuchAConventionDesirable">#</a></h3>
<p>The initial crop of &quot;pure bean&quot; frameworks (with front-runners) JSF and Hibernate are proving that there is still more to the definition of a programming object than its interface. Both JSF and Hibernate claim to allow you to &quot;keep programming the way you always did&quot; by not intruding visibly into your code, but anyone who has ever tried to use the self-same set of objects as both a JSF bean model and a Hibernate model (e.g. we at <a class="external" href="http://www.caret.cam.ac.uk/">CARET</a><img class="outlink" src="images/out.png" alt="" />, and this <a class="external" href="http://blog.exadel.com/?p=8">enterprising chap</a><img class="outlink" src="images/out.png" alt="" />) can tell you that the most &quot;hilarious&quot; and opaque disasters are waiting to engulf you. Getting a Hibernate model correctly tuned in the presence of cascade operations and lazy evaluations is at best &quot;fiddly&quot; - doing so in an environment where unseen and undocumented code is reflectively traversing your model is essentially lethal.
</p>
<p>What has gone wrong here?
</p>
<p>Whilst the issue of allowing a &quot;free interface&quot; is now resolved, we are still some way from winning the battle. The semantics behind an interface are at least as important as the interface itself - and in fact the pressure to create apparent agreement on interface has led to the situation (e.g. between JSF and Hibernate) becoming momentarily EVEN WORSE than it might have been had the interfaces been dissimilar. When problems occur, the code actually implementing or manipulating the interfaces is hidden much further from view than it would have been had they been operated traditionally (stack traces now misleading, tracing hard &amp;c), and the mismatch between expectations between client and producer is much more obscure, being wholly semantic. 
</p>
<p><a class="external" href="http://www.hibernate.org/">Hibernate</a><img class="outlink" src="images/out.png" alt="" />, for example, uses dynamic proxying implemented using bytecode engineering, to transparently intercept requests to &quot;lazily evaluated&quot; bean properties, and either trigger a database load or rescue the required data from one of various levels of caches. This creates a slightly distressing situation where &quot;what you see is rather surely not what you get&quot;. An innocent call to an <tt>iterator()</tt>, <tt>size()</tt> or even a simple <tt>get()</tt> might trigger the most awful cascade of expensive operations. This is all very well you may say, since it represents light-years worth of improvement from the days when we had to fiddle around with JDBCResultSets and do horrid type conversions all by ourselves. But this represents a very real problem when you attempt to hand such beans over to a vast clunking framework like JSF which will traverse your model in numerous unexpected, undocumented (and in fact implementation-defined) ways<a class="footnoteref" href="#ref-BeanReasonablenessRationale-1">[1]</a>. This is partially an issue with Sun's somewhat neglect of developments in the wider open source community, and partially an issue that JSF is simply too large, heavyweight and intrusive. 
</p>
<p>To be sure, Hibernate are much more to be supported in this dispute, who have done a marvellous job of bringing database communications out of the dark ages, and who could only be blamed for being a bit too zealous in trying to hide the last traces of complexity under the carpet. But it brings out the very real point that for a framework to be truly reasonable, it must do its best to document the INTENT and USAGE STYLE behind its interfaces. This is of course rather hard - uncovering ones hidden assumptions is a lifelong task, and API documentation (even Sun's) is becoming considerably better in this area, at least in such basic areas as documenting thread-safety and the lack of it (unfortunately usually inclining to the latter except where things are synchronised).
</p>
<p>ANYWAY, the upshot of this discussion is that in order to be reasonable, RSF tries to explain the usage model behind its beans, and tries to make this explanation as simple as possible by &quot;trying not to do anything funny&quot; with them. 
</p>
<p />
<hr />
<a class="footnote" name="ref-BeanReasonablenessRationale-1">[#1]</a> As an aside, it is worth looking at the contortions people generally have to go through to get JSF and Hibernate to sing from the same sheet. <a class="external" href="http://blog.exadel.com/?p=8">This enterprising chap</a><img class="outlink" src="images/out.png" alt="" /> has devoted some time to it, but has had to duplicate his entire data model into two sets of controllers. This is, unfortunately, generally the sort of thing that has to happen... and recall, this is one of the &quot;with less coding&quot; approaches!
<p />






        
  </div>


  

  
  <div id="attach" class="hidetab" >

    










<div id="addattachment">
<h3>Add new attachment</h3>


<div class="formhelp">Only authorized users are allowed to upload new attachments.</div>

</div>



  </div>

  
    
  <div id="info" class="hidetab" >

  </div>

    
  

<div style="clear:both;" ></div>
</div>

      







<div id='actionsBottom' class="pageactions"> 
    

    <a href="#top" 
      class="action quick2top" 
      title="Go to top" >&laquo;</a>

    
       This page (revision-) was last changed on <a href="Diff2279.html?page=BeanReasonablenessRationale&amp;r1=-1&amp;r2=1">19-Jul-2006 09:36</a> by UnknownAuthor
    

    

   

  

   
</div>

    </div>

    






<div id="favorites">

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="Login9ed1.html?redirect=BeanReasonablenessRationale" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="UserPreferences9ed1.html?redirect=BeanReasonablenessRationale"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>
  
  <div id="hiddenmorepopup">
  <ul id="morepopup">
     
       	
     
       
     
    
       
     
       <li>
       
       <a class="action rawpage wikipage" 
               href="Wiki3d64.html?page=BeanReasonablenessRationale&amp;skin=raw"
              title="View Page Source">View Page Source
       </a>
       
       
       </li>
      
        
  
      
      
      

      
	  <li class='separator'>
        <div id="moremenu" ></div>
      </li>
  </ul>
  </div>
  
  

  

  

  
  <div class="leftmenu">
    <p><a class="wikipage" href="Wikib2ab.html?page=Main">Main page</a><br />
<tt> </tt><i><a class="wikipage" href="Wiki4d3f.html?page=ThisWiki">About</a></i><br />
</p><p><a class="wikipage" href="Wikid6f0.html?page=GettingStarted">Getting Started</a><br />
</p>
<p><b>Documentation</b><br />
<tt> </tt><a class="wikipage" href="Wiki4c8c.html?page=Developers">Developers</a><br />
<tt>  </tt><a class="wikipage" href="Wikib1ce.html?page=Javadocs">Javadocs</a><br />
<tt> </tt><a class="wikipage" href="Wikia56b.html?page=Designers">Designers</a><br />
<tt> </tt><a class="wikipage" href="Wiki4509.html?page=SampleRSFApps">Sample RSF Apps</a><br />
<tt> </tt><a class="wikipage" href="Wikif010.html?page=Presentations">Presentations</a><br />
<tt> </tt><a class="wikipage" href="Wiki45f9.html?page=Acronyms">Acronyms</a><br />
</p>
<p><b>Downloads</b><br />
<tt> </tt><a class="wikipage" href="Wiki30c9.html?page=CurrentCode">Current Release</a><br />
<tt> </tt><a class="wikipage" href="Wiki0e27.html?page=TrunkCode">Trunk</a><br />
<tt> </tt><a class="wikipage" href="Wiki1a8d.html?page=CodeDistributions">Distributions</a><br />
<tt> </tt><a class="wikipage" href="Wikiadaf.html?page=OldCode">Old Versions</a><br />
</p>
<p><b>Community</b><br />
<tt> </tt><a class="wikipage" href="Wiki84f4.html?page=QampA">Q&amp;A</a><br />
<tt> </tt><a class="external" href="http://ponder.org.uk/rsf/">Forums</a><img class="outlink" src="images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="Wikif345.html?page=EmailLists">Mailing Lists</a><br />
<tt> </tt><a class="external" href="http://www.caret.cam.ac.uk/jira/browse/RSF">Issue Tracker</a><img class="outlink" src="images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="Wiki1535.html?page=People">People</a><br />
</p>
<p><b>Design</b><br />
<tt> </tt><a class="wikipage" href="Wiki580c.html?page=Roadmap">Roadmap</a><br />
<tt> </tt><a class="wikipage" href="Wiki654d.html?page=Integrations">Integrations</a><br />
<tt> </tt><a class="wikipage" href="Wikia360.html?page=Concepts">Concepts</a><br />
<tt> </tt><a class="wikipage" href="Wiki151d.html?page=Philosophy">Philosophy</a><br />
</p>
<div style="font-style:italic;font-size:0.8em;">
<b>Pages</b><br />
<tt> </tt><a class="wikipage" href="Wiki702d.html?page=FindPage">Find</a><br />
<tt> </tt><a class="wikipage" href="Wiki5fc7.html?page=RecentChanges">Recent Changes</a><br />
<tt> </tt><a class="wikipage" href="Wikife97.html?page=UnusedPages">Unused</a><br />
<tt> </tt><a class="wikipage" href="Wiki5130.html?page=UndefinedPages">Undefined</a><br />
<tt> </tt><a class="wikipage" href="Wiki5f9e.html?page=PageIndex">Index</a>
</div>
<p />
    
  </div>
  
  <div class="leftmenufooter">
    <hr />
<p><b>Referenced by</b><br />
<a class="wikipage" href="Wiki341c.html?page=BeanReasonableness">BeanReasonableness</a><br />
</p>
    
  </div>

  

  
  
  <div class="wikiversion">JSPWiki v2.8.2
  <span class="rssfeed">
    
  </span>
  </div>  
  
</div>

	<div class="clearbox"></div>
  </div>

  





 
<div id="footer">

  <div class="applicationlogo" > 
    <a href="Wikib2ab.html?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  <div class="copyright"></div>

  <div class="wikiversion">
    JSPWiki v2.8.2
  </div>

  <div class="rssfeed">
    
  </div>

</div>

</div>

</body>

<!-- Mirrored from rsf.fluidproject.org/wiki/Wiki.jsp?page=BeanReasonablenessRationale by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:24:28 GMT -->
</html>

