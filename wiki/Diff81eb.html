












<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html id="top" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from rsf.fluidproject.org/wiki/Diff.jsp?page=HibernateCookBook_1&r1=-1 by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:55:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <title>
    RSF Wiki: HibernateCookBook_1
  </title>
  











<link rel="stylesheet" media="screen, projection, print" type="text/css"
     href="templates/default/jspwiki.css"/>

<link rel="stylesheet" type="text/css" media="print" 
     href="templates/default/jspwiki_print.css" />
<!-- INCLUDERESOURCES (stylesheet) -->

<!-- INCLUDERESOURCES (inlinecss) -->



<noscript>
<style type="text/css">
#hiddenmorepopup { display:block; }
</style>
</noscript>


<script type="text/javascript" src="scripts/mootools.js"></script>
<script type="text/javascript" src="scripts/prettify.js"></script>
<script type="text/javascript" src="scripts/jspwiki-common.js"></script>
<script type="text/javascript" src="scripts/jspwiki-commonstyles.js"></script>
<!-- INCLUDERESOURCES (script) -->





<meta name="wikiContext" content='diff' />
<meta name="wikiBaseUrl" content='http://rsf.fluidproject.org/wiki/' />
<meta name="wikiPageUrl" content='/wiki/Wiki.jsp?page=%23%24%25' />
<meta name="wikiEditUrl" content='/wiki/Edit.jsp?page=HibernateCookBook_1' />
<meta name="wikiJsonUrl" content='/wiki/JSON-RPC' />
<meta name="wikiPageName" content='HibernateCookBook_1' />
<meta name="wikiUserName" content='207.119.0.6' />
<meta name="wikiTemplateUrl" content='/wiki/templates/default/' />
<meta name="wikiApplicationName" content='RSF Wiki' />

<script type="text/javascript">//<![CDATA[
/* Localized javascript strings: LocalizedStrings[] */
var LocalizedStrings = {
"javascript.edit.allsections":"( All )",
"javascript.slimbox.error":"<h2>Error</h2>There was a problem with your request.<br />Please try again",
"javascript.slimbox.remoteRequest":"Remote Request {0} of {1}",
"javascript.slimbox.close":"Close &#215;",
"javascript.quick.edit":"[Edit]",
"javascript.sort.descending":"Descending order. Click to reverse sort order",
"javascript.expand":"Click to expand",
"javascript.group.validName":"Please provide a valid name for the new Group",
"javascript.slimbox.next":"Next&raquo;",
"javascript.filter.all":"( All )",
"javascript.edit.areyousure":"Without clicking the Save button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.quick.edit.title":"Edit section {0}...",
"javascript.slimbox.directLink":"Direct Link to the target",
"javascript.prefs.areyousure":"Without clicking the Save User Preferences button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.sbox.clone.suffix":"-New",
"javascript.slimbox.info":"Image {0} of {1}",
"javascript.tip.default.title":"More...",
"javascript.edit.resize":"Drag to resize the text area",
"javascript.edit.findandreplace.nomatch":"No match found!",
"javascript.sort.ascending":"Ascending order. Click to reverse sort order",
"javascript.slimbox.close.title":"Close [Esc]",
"javascript.edit.toolbar.makeSelection":"Please make first a selection.",
"javascript.favs.hide":"Click to hide Favorites",
"javascript.sectionediting.label":"Section Overview",
"javascript.slimbox.previous":"&laquo;Previous",
"javascript.favs.show":"Click to show Favorites",
"javascript.collapse":"Click to collapse",
"javascript.category.title":"Click to show category [{0}] ...",
"javascript.sort.click":"Click to sort",
"javascript.edit.startOfPage":"( Start of page )"
};


/* INCLUDERESOURCES (jsfunction) */

//]]></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="search" href="Wiki702d.html?page=FindPage"
    title='Search RSF Wiki' />
<link rel="help"   href="Wikia3b7.html?page=TextFormattingRules"
    title="Help" />

 <link rel="start"  href="Wikib2ab.html?page=Main"
    title="Front page" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki_print.css"
    title="Print friendly" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki.css"
    title="Standard" />
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />

<link rel="icon" type="image/x-icon" href="images/favicon.ico" />



  









  
  
    <meta name="robots" content="noindex,nofollow" />
  
  
    <meta name="robots" content="noindex,follow" />
  
</head>

<body class="view">

<div id="wikibody" class="fav-left">
 
  






<div id="header">

  <div class="titlebox"></div>

  <div class="applicationlogo" > 
    <a href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="http://rsf.fluidproject.org/wiki/Login.jsp?redirect=HibernateCookBook_1" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="http://rsf.fluidproject.org/wiki/UserPreferences.jsp?redirect=HibernateCookBook_1"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>

  <div class="pagename">HibernateCookBook_1</div>

  <div class="searchbox">






<form action="http://rsf.fluidproject.org/wiki/Search.jsp"
        class="wikiform"
           id="searchForm" accept-charset="UTF-8">

  <div style="position:relative">
  <input onblur="if( this.value == '' ) { this.value = this.defaultValue }; return true; "
        onfocus="if( this.value == this.defaultValue ) { this.value = ''}; return true; "
           type="text" value="Quick Navigation"
           name="query" id="query"
           size="20" 
      accesskey="f" />
  <button type="submit"
  		 name="searchSubmit" id="searchSubmit"
  		value="Go!"
  		title="Go!"></button>
  </div>
  <div id="searchboxMenu" style='visibility:hidden;'>
    <div id="searchTools">
      <a href="#" id='quickView' class='action'
      onclick="SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Wiki.jsp?page=__PAGEHERE__','View the selected page' );"
        title="View the selected page">view</a>
      <a href="#" id='quickEdit' class='action'
      onclick="SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Edit.jsp?page=__PAGEHERE__','Edit the selected page' );"
        title="Edit the selected page">edit</a>
      <a href="#" id='quickClone' class='action'	
      onclick="return SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Edit.jsp?page=__PAGEHERE__', 'Clone the selected page', true );"
        title="Clone the selected page">clone</a>
      <a href="#" id="advancedSearch" class='action'
      onclick="SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Search.jsp?query=__PAGEHERE__','HibernateCookBook_1' )"
        title="Advanced Search [ f ]">find</a>
    </div>
    <div id="searchResult" >
	  Quick search
      <span id="searchTarget" >(type ahead)</span>
      <span id="searchSpin" class="spin" style="position:absolute;display:none;"></span>
	  <div id="searchOutput" ></div>
    </div>
    <div id="recentSearches" style="display:none;">
      Recent Searches
      <span><a href="#" id="recentClear">(Clear)</a></span>
    </div>
  </div>

</form></div>

  <div class="breadcrumbs">Your trail:&nbsp;<a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UserNameTag">UserNameTag</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ValueBinding">ValueBinding</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=VariableTag">VariableTag</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=VeryLazyBeans">VeryLazyBeans</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ViewID">ViewID</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ViewRender">ViewRender</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=WeblogEntryPlugin">WeblogEntryPlugin</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=WeblogPlugin">WeblogPlugin</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=WikiFormsExampleText">WikiFormsExampleText</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=XPP">XPP</a></div>

</div>

  <div id="content">

    <div id="page">
      





<div id="actionsTop" class="pageactions"> 
  <ul>

    
    
    

    
    <li id="morebutton">
      <a href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=MoreMenu" class="action more">More...</a>
    </li>

  </ul>
</div>

      


















  <div class="tabmenu">

  

  

  
  

  

  <a id="menu-pagecontent" href='http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_1' accesskey="v" ><span class='accesskey'>V</span>iew</a>

  <a id="menu-attach" accesskey="a" ><span class='accesskey'>A</span>ttach (1)</a>

  
  <a class="activetab" id="menu-info" accesskey="i" ><span class='accesskey'>I</span>nfo</a>

  </div>
<div class="tabs">

  <div id="pagecontent" class="hidetab" >

      
  </div>


  <div id="attach" class="hidetab" >

    










<div id="addattachment">
<h3>Add new attachment</h3>


<div class="formhelp">Only authorized users are allowed to upload new attachments.</div>

</div>



<h3>List of attachments</h3>

  

  

  <div class="zebra-table"><div class="slimbox-img sortable">
  <table class="wikitable">
    <tr>
      <th>Kind</th>
      <th>Attachment Name</th>
      <th>Size</th>
      <th>Version</th>
      <th>Date Modified</th>
      <th>Author</th>
      
      <th class="changenote">Change note</th>
    </tr>

    
    
    <tr>
      <td><div id="attach-png" class="attachtype">png</div></td>
      <td><a class="attachment" href="http://rsf.fluidproject.org/wiki/attach/HibernateCookBook_1/cookbook-basic-recipe-list.png" accesskey="" title="cookbook-basic-recipe-list.png">cookbook-basic-recipe-list.png</a></td>
      <td style="white-space:nowrap;text-align:right;">
        22.6&nbsp;kB
      </td>
      <td style="text-align:center;">
        <a href="http://rsf.fluidproject.org/wiki/PageInfo.jsp?page=HibernateCookBook_1/cookbook-basic-recipe-list.png" title="Attachment info and version history">2</a>
      </td>
	  <td style="white-space:nowrap;" sortvalue="Wed, 19 Jul 2006 09:36:21">
	  19-Jul-2006 09:36
	  </td>
      <td><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=AntranigBasman">AntranigBasman</a></td>
      
      <td class="changenote">
      
      </td>
    </tr>
    

  </table>
  </div></div>



  </div>


  
  <div id="info" >

  <p>
  This page (revision-1) was last changed on <a href="http://rsf.fluidproject.org/wiki/Diff.jsp?page=HibernateCookBook_1&amp;r1=-1&amp;r2=1"
        title="Show changes of last page update" >
        04-Apr-2007 20:33
      </a> by UnknownAuthor

  
  </p>

  

  
  
      <p>Only authorized users are allowed to rename pages.</p>
  

  
  
      <p>Only authorized users are allowed to delete pages.</p>
  

  <div class="collapsebox-closed" id="incomingLinks">
  <h4>Incoming links</h4>
    <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_1" accesskey="" title="">HibernateCookBook_1</a>
    <ul><li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook">HibernateCookBook</a>
</li><li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_2">HibernateCookBook_2</a>
</li><li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_3">HibernateCookBook_3</a>
</li><li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_4">HibernateCookBook_4</a>
</li><li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSF">SakaiRSF</a>
</li></ul>
  </div>

  <div class="collapsebox-closed" id="outgoingLinks">
  <h4>Outgoing links</h4>
    <div class="ReferredPagesPlugin">
<a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_1" title="ReferredPagesPlugin: depth[1] include[.*] exclude[^$] format[compact]">HibernateCookBook_1</a>
<ul>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ComponentTree">ComponentTree</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=EL">EL</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook">HibernateCookBook</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_1/cookbook-basic-recipe-list.png">HibernateCookBook_1/cookbook-basic-recipe-list.png</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_2">HibernateCookBook_2</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_3">HibernateCookBook_3</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_4">HibernateCookBook_4</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=IKAT">IKAT</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=NumberGuessing_3">NumberGuessing_3</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=OTP">OTP</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=RSAC">RSAC</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UIBranchContainer">UIBranchContainer</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ViewParameters">ViewParameters</a></li>
</ul>
</div>

  </div>

  <div class="clearbox"></div>

  
  
     












<form action="http://rsf.fluidproject.org/wiki/Diff.jsp" method="get" accept-charset="UTF-8">
<div class="collapsebox" id="diffcontent">
  <h4>
       <input type="hidden" name="page" value="HibernateCookBook_1" />
       Difference between version <select id="r1" name="r1" onchange="this.form.submit();" >
           
             <option value="-1" selected="selected" >-1</option>
           
           </select> and <select id="r2" name="r2" onchange="this.form.submit();" >
           
             <option value="-1" selected="selected" >-1</option>
           
           </select>
  </h4>

  

  <div class="diffbody">
    <table class="diff" border="0" cellspacing="0" cellpadding="0">
<tr><td class="diff">At line 1 added 119 lines</td></tr>
<tr><td class="diffadd">We are currently working on the &quot;basic&quot; Cookbook app that lets us manipulate lists of {{Recipe}} objects in a straightforward CRUD application. As in Ruby on Rails, RSF features a &quot;scaffold&quot; system where apps of this type can be automatically generated based purely on ORM information, in this case stored in the .hbm file. However, since right now we are explaining the RSF approach to ORM itself, it's worthwhile to build this app by hand to start with so you can see how this works in simple cases.</td></tr>
<tr><td class="diffadd">!!! List view</td></tr>
<tr><td class="diffadd">Let's first build the &quot;list&quot; view. It's much easier to first see the &quot;picture on the box&quot;,</td></tr>
<tr><td class="diffadd">so here is what the completed view will look like:</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">[{Image src='cookbook-basic-recipe-list.png' align='center'}]</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!! HTML template</td></tr>
<tr><td class="diffadd">One of the central benefits of RSF is its HTML templating system, so let's start by designing the [appearance of this web page|https://saffron.caret.cam.ac.uk/svn/projects/RSFHibernateCookbook/trunk/basic/src/webapp/content/templates/recipes.html] first in pure HTML (as you probably would in real life). In other frameworks this would just be a &quot;mockup&quot; of the UI, whereas using RSF (with [IKAT]) it is virtually &quot;ready to eat&quot; - just liberally sprinkle with {{rsf:id}} attributes. All of the components here are simple leaf components, except for the one that represents the table row, which will need to be repeated in the final view. As you may recall from the [Number Guessing app|NumberGuessing_3] where we met tables for the first time, you present repeating (or otherwise dynamically resolved) components to the IKAT renderer by giving them IDs containing the colon character, in this case for {{recipe-row:}}. Other than these {{rsf:id}}s, the template is pure XHTML, and will preview in any browser. Note that you will need to be more careful about authoring these templates than with HTML, since XML does not permit any sloppiness with unbalanced tags or incorrect cases.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">&lt;!DOCTYPE html      PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</td></tr>
<tr><td class="diffadd">     &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;</td></tr>
<tr><td class="diffadd">&lt;html xmlns:rsf=&quot;http://ponder.org.uk/rsf&quot;&gt;</td></tr>
<tr><td class="diffadd">&lt;head&gt;</td></tr>
<tr><td class="diffadd">&lt;title&gt;All Recipes&lt;/title&gt;</td></tr>
<tr><td class="diffadd">&lt;/head&gt;</td></tr>
<tr><td class="diffadd">&lt;body&gt;</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">&lt;h1&gt;Listing recipes&lt;/h1&gt;</td></tr>
<tr><td class="diffadd">&lt;form rsf:id=&quot;basic-form&quot; method=&quot;post&quot;&gt;</td></tr>
<tr><td class="diffadd">&lt;table border=&quot;1&quot;&gt;</td></tr>
<tr><td class="diffadd"> &lt;tr&gt;</td></tr>
<tr><td class="diffadd">  &lt;td&gt;&lt;p align=&quot;center&quot;&gt;&lt;b&gt;Title&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;</td></tr>
<tr><td class="diffadd">  &lt;td&gt;&lt;p align=&quot;center&quot;&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;</td></tr>
<tr><td class="diffadd">  &lt;td&gt;&lt;p align=&quot;center&quot;&gt;&lt;b&gt;Date&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;</td></tr>
<tr><td class="diffadd">  &lt;td&gt;&lt;p align=&quot;center&quot;&gt;&lt;b&gt;Instructions&lt;/b&gt;&lt;/p&gt;&lt;/td&gt;</td></tr>
<tr><td class="diffadd">  &lt;td&gt;&lt;p align=&quot;center&quot;&gt;&lt;/p&gt;&lt;/td&gt;</td></tr>
<tr><td class="diffadd"> &lt;/tr&gt;</td></tr>
<tr><td class="diffadd">  &lt;tr rsf:id=&quot;recipe-row:&quot;&gt;</td></tr>
<tr><td class="diffadd">   &lt;td rsf:id=&quot;recipe-title&quot;&gt;Hot Chips&lt;/td&gt;</td></tr>
<tr><td class="diffadd">   &lt;td rsf:id=&quot;recipe-description&quot;&gt;Only for the brave!&lt;/td&gt;</td></tr>
<tr><td class="diffadd">   &lt;td rsf:id=&quot;recipe-date&quot;&gt;2004-11-11&lt;/td&gt;</td></tr>
<tr><td class="diffadd">   &lt;td rsf:id=&quot;recipe-instructions&quot;&gt;Sprinkle hot-pepper sauce on corn chips&lt;/td&gt;</td></tr>
<tr><td class="diffadd">   &lt;td&gt;&lt;a href=&quot;recipe-show.html&quot; rsf:id=&quot;recipe-show&quot;&gt;Show&lt;/a&gt;&amp;nbsp; </td></tr>
<tr><td class="diffadd">   &lt;a href=&quot;recipe-edit.html&quot; rsf:id=&quot;recipe-edit&quot;&gt;Edit&lt;/a&gt;&amp;nbsp; </td></tr>
<tr><td class="diffadd">   &lt;input type=&quot;submit&quot; rsf:id=&quot;recipe-destroy&quot; value=&quot;Destroy&quot;/&gt; </td></tr>
<tr><td class="diffadd">   &lt;/td&gt;</td></tr>
<tr><td class="diffadd">  &lt;/tr&gt;</td></tr>
<tr><td class="diffadd">&lt;/table&gt;</td></tr>
<tr><td class="diffadd">&lt;p&gt;&lt;a href=&quot;recipe-edit.html&quot; rsf:id=&quot;recipe-create&quot;&gt;New recipe&lt;/a&gt;&lt;/p&gt;</td></tr>
<tr><td class="diffadd">&lt;/form&gt;</td></tr>
<tr><td class="diffadd">&lt;/body&gt;</td></tr>
<tr><td class="diffadd">&lt;/html&gt;</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!! Component tree</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">Now lets turn to the [component tree|ComponentTree] that will back this view at request-time. Here and in the next few pages we will develop this in the XML style - turn to the [final page|HibernateCookBook_4] to see how this is rendered in Java.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">It's clear that to generate the runtime view we will need to cause some kind of replication in the view tree, based on the results from a request-time query that we issue through Hibernate. In Java this would be achieved through simple looping, but in XML must be specified declaratively. We previously met the [UIReplicator] component in the [last page|NumberGuessing_3] of the Number Guessing sample, where we built up the table of previous guesses row by row. </td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">The driving force behind the replicator is the [EL reference|EL] held in the {{valuebinding}} field - this is a reference which should resolve (at request-time) to a ''List'' of Java objects, which will drive the iteration and replication of components - one instance of the component held in the {{component}} field of the replicator will be generated for each list members. The only extra &quot;magic&quot; required is some jiggery with EL references and ViewParameters in the replicating component that will refer to the specific entity being replicated. Using the [&quot;One True Path&quot;|OTP] philosophy of RSF, you must make EL references to entities (in this case Recipes) at their base path which is of the form {{#{Recipe.id.field} }}. Therefore whenever you try to fetch fields of the Recipe for each row, the prefix of the EL must be rewritten to locate each successive Recipe's fields. </td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">This is clearer with the example in view - here are the first few lines from the [component tree for this view|https://saffron.caret.cam.ac.uk/svn/projects/RSFHibernateCookbook/trunk/basic/src/webapp/WEB-INF/producers/recipes.xml]: </td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</td></tr>
<tr><td class="diffadd">&lt;view&gt;</td></tr>
<tr><td class="diffadd">  &lt;component type=&quot;form&quot; id=&quot;basic-form&quot;&gt;</td></tr>
<tr><td class="diffadd">    &lt;component type=&quot;replicator&quot; id=&quot;reciperep&quot;&gt;</td></tr>
<tr><td class="diffadd">      &lt;valuebinding&gt;#{recipes-all}&lt;/valuebinding&gt;</td></tr>
<tr><td class="diffadd">      &lt;idstrategy type=&quot;idremap&quot; basepath=&quot;#{Recipe}&quot; /&gt;</td></tr>
<tr><td class="diffadd">      &lt;component type=&quot;branchcontainer&quot; id=&quot;recipe-row:&quot;&gt;</td></tr>
<tr><td class="diffadd">        &lt;component type=&quot;output&quot; id=&quot;recipe-title&quot;&gt;</td></tr>
<tr><td class="diffadd">          &lt;valuebinding&gt;#{*.title}&lt;/valuebinding&gt;</td></tr>
<tr><td class="diffadd">        &lt;/component&gt;</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!! Query bean reference</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">So, as the first replicator field, the recipe is being driven by the list held at {{#{recipes-all} }}. Looking into this application's {{[requestContext.xml|https://saffron.caret.cam.ac.uk/svn/projects/RSFHibernateCookbook/trunk/basic/src/webapp/WEB-INF/requestContext.xml]}}, we can see this is defined to be an HQL query bean (a standard bean supplied as part of RSF's Hibernate integration library} as follows:</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">&lt;!--  A simple &quot;DAO&quot; return all entities of type Recipe --&gt;</td></tr>
<tr><td class="diffadd">  &lt;bean id=&quot;recipes-all&quot; parent=&quot;HQLQuery&quot;&gt;</td></tr>
<tr><td class="diffadd">    &lt;property name=&quot;HQLString&quot; value=&quot;from Recipe&quot;/&gt;</td></tr>
<tr><td class="diffadd">  &lt;/bean&gt;</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">This uses the standard Spring &quot;parent bean&quot; definition syntax which you can refresh your knowledge of in the [Spring documentation|http://www.springframework.org/docs/reference/beans.html#beans-ref-element] - although it is worth remembering that the request context is not being operated by Spring code but by [RSAC], and you should not expect ''all'' Spring syntax to be valid. More and more will be supported as time goes on.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!! ID remapping</td></tr>
<tr><td class="diffadd">Returning to the Replicator, the next line defines our ''ID remapping strategy'':</td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">    &lt;idstrategy type=&quot;idremap&quot; basepath=&quot;#{Recipe}&quot; /&gt;</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">This line is necessary as a result of RSF's [&quot;One True Path&quot;|OTP] model. The list of beans we are iterating over has EL paths of the form {{#{recipes-all.1} }}, {{#{recipes-all.2}  }}, etc., but when any user submission from this page is processed, we cannot use these references since it would mean re-executing the query! To avoid this efficiency risk, the EL references are rewritten ''at source'' by the Replicator, by a rule encoded by this ID remapping strategy [1]. The &quot;idremap&quot; strategy is appropriate for ORM models - it will replace the &quot;ID wildcard&quot; character (by default {{*}}) where it appears in EL paths or other references inside this replicator, with the base path {{#{Recipe} }} followed by the ID field (by default {{id}}) held in the list member.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!! Replication target</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">The final argument to UIReplicator is the chunk of components (held in a [UIBranchContainer]) that needs replicating. These can mention [EL] references starting with the special wildcard character {{*}}, for example as we see above {{#{*.title} }}, which will be rewritten to OTP path of the entity, for example {{#{Recipe.2.title} }}. In order to create links to pages centred on the ID, you can also use the {{*}} character in encoded [ViewParameters] objects. For example, this prototoype</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">        &lt;component type=&quot;internallink&quot; id=&quot;recipe-show&quot;&gt;</td></tr>
<tr><td class="diffadd">          &lt;viewparams&gt;/recipe-show/*&lt;/viewparams&gt;</td></tr>
<tr><td class="diffadd">        &lt;/component&gt;</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">will be expanded to links that link to the view parameters encoded by {{/recipe-show/2}}, for example.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">The final section of the view definition is a non-component, {{&lt;defaultview&gt;true&lt;/defaultview&gt;}}, specifying that this is the default view for our application - that is, any unknown view requests or other first-level errors will issue a client redirect to this view.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">----</td></tr>
<tr><td class="diffadd">%%( font-size: small)</td></tr>
<tr><td class="diffadd">[#1] Those who are interested can read the comments for IDRemapStrategy [here|https://saffron.caret.cam.ac.uk/svn/projects/RSFUtil/trunk/src/uk/org/ponder/rsf/expander/IDRemapStrategy.java] the definition for UIReplicator [here|https://saffron.caret.cam.ac.uk/svn/projects/RSFUtil/trunk/src/uk/org/ponder/rsf/components/UIReplicator.java], and (for the strong of stomach) the code for TemplateExpander [here|https://saffron.caret.cam.ac.uk/svn/projects/RSFUtil/trunk/src/uk/org/ponder/rsf/expander/TemplateExpander.java].</td></tr>
<tr><td class="diffadd">NB that IDStrategy is not an interface since the only two examples of it (DirectIndexStrategy and IDRemapStrategy) work in such startingly different ways that it was thought best just to fold the code straight into TemplateExpander...</td></tr>
<tr><td class="diffadd">%%</td></tr>
<tr><td class="diffadd">----</td></tr>
<tr><td class="diffadd">Head   - [Hibernate Cookbook|HibernateCookBook]\\</td></tr>
<tr><td class="diffadd">Page 1 - Query beans, templates and views\\</td></tr>
<tr><td class="diffadd">Page 2 - [Switches, Replicators and transit beans|HibernateCookBook_2]\\</td></tr>
<tr><td class="diffadd">Page 3 - [The main app - entity selectors and Javascript|HibernateCookBook_3]\\</td></tr>
<tr><td class="diffadd">Page 4 - [Let's hear that one more time - this time in Java|HibernateCookBook_4]\\</td></tr>
<tr><td class="diffadd">----</td></tr>
<tr><td class="diffadd"></td></tr>
</table>
 
  </div>
</div>
</form>

  
  

	
    
    

    

    <div class="zebra-table sortable table-filter">
    <table class="wikitable" >
      <tr>
        <th>Version</th>
        <th>Date Modified</th>
        <th>Size</th>
        <th>Author</th>
        <th>Changes ...</th>
        <th class='changenote'>Change note</th>
      </tr>

      
      
      <tr>
        <td>
          <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_1&amp;version=-1" accesskey="" title="">
            
          </a>
        </td>

	    <td style="white-space:nowrap;" sortvalue="Wed, 4 Apr 2007 08:33:49">
        04-Apr-2007 20:33
        </td>
        <td style="white-space:nowrap;text-align:right;">
          
          9.603&nbsp;kB
        </td>
        <td>UnknownAuthor</td>

        <td>
          

          
        </td>

         <td class="changenote">
           
           
         </td>

      </tr>
      
      

    </table>
    </div>
    
    
  </div>


  <div style="clear:both;" ></div>
</div>













      







<div id='actionsBottom' class="pageactions"> 
    

    <a href="#top" 
      class="action quick2top" 
      title="Go to top" >&laquo;</a>

    
       This page (revision-) was last changed on <a href="http://rsf.fluidproject.org/wiki/Diff.jsp?page=HibernateCookBook_1&amp;r1=-1&amp;r2=1">04-Apr-2007 20:33</a> by UnknownAuthor
    

    

   

  

   
</div>

    </div>

    






<div id="favorites">

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="http://rsf.fluidproject.org/wiki/Login.jsp?redirect=HibernateCookBook_1" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="http://rsf.fluidproject.org/wiki/UserPreferences.jsp?redirect=HibernateCookBook_1"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>
  
  <div id="hiddenmorepopup">
  <ul id="morepopup">
     
       	
     
       
     
    
       
     
       <li>
       
       <a class="action rawpage wikipage" 
               href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_1&amp;skin=raw"
              title="View Page Source">View Page Source
       </a>
       
       
       </li>
      
        
  
      
      
      

      
	  <li class='separator'>
        <div id="moremenu" ></div>
      </li>
  </ul>
  </div>
  
  

  

  

  
  <div class="leftmenu">
    <p><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main">Main page</a><br />
<tt> </tt><i><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ThisWiki">About</a></i><br />
</p><p><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=GettingStarted">Getting Started</a><br />
</p>
<p><b>Documentation</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Developers">Developers</a><br />
<tt>  </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Javadocs">Javadocs</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Designers">Designers</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SampleRSFApps">Sample RSF Apps</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Presentations">Presentations</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Acronyms">Acronyms</a><br />
</p>
<p><b>Downloads</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=CurrentCode">Current Release</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=TrunkCode">Trunk</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=CodeDistributions">Distributions</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=OldCode">Old Versions</a><br />
</p>
<p><b>Community</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=QampA">Q&amp;A</a><br />
<tt> </tt><a class="external" href="http://ponder.org.uk/rsf/">Forums</a><img class="outlink" src="http://rsf.fluidproject.org/wiki/images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=EmailLists">Mailing Lists</a><br />
<tt> </tt><a class="external" href="http://www.caret.cam.ac.uk/jira/browse/RSF">Issue Tracker</a><img class="outlink" src="http://rsf.fluidproject.org/wiki/images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=People">People</a><br />
</p>
<p><b>Design</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Roadmap">Roadmap</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Integrations">Integrations</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Concepts">Concepts</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Philosophy">Philosophy</a><br />
</p>
<div style="font-style:italic;font-size:0.8em;">
<b>Pages</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=FindPage">Find</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=RecentChanges">Recent Changes</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UnusedPages">Unused</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UndefinedPages">Undefined</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=PageIndex">Index</a>
</div>
<p />
    
  </div>
  
  <div class="leftmenufooter">
    <hr />
<p><b>Referenced by</b><br />
<a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook">HibernateCookBook</a><br /><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_2">HibernateCookBook_2</a><br /><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_3">HibernateCookBook_3</a><br /><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_4">HibernateCookBook_4</a><br /><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSF">SakaiRSF</a><br />
</p>
    
  </div>

  

  
  
  <div class="wikiversion">JSPWiki v2.8.2
  <span class="rssfeed">
    
  </span>
  </div>  
  
</div>

	<div class="clearbox"></div>
  </div>

  





 
<div id="footer">

  <div class="applicationlogo" > 
    <a href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  <div class="copyright"></div>

  <div class="wikiversion">
    JSPWiki v2.8.2
  </div>

  <div class="rssfeed">
    
  </div>

</div>

</div>

</body>

<!-- Mirrored from rsf.fluidproject.org/wiki/Diff.jsp?page=HibernateCookBook_1&r1=-1 by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:55:19 GMT -->
</html>
