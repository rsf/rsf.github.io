











<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html id="top" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from rsf.fluidproject.org/wiki/Wiki.jsp?page=BeanGuards by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:01:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <title>
    RSF Wiki: BeanGuards
  </title>
  











<link rel="stylesheet" media="screen, projection, print" type="text/css"
     href="templates/default/jspwiki.css"/>

<link rel="stylesheet" type="text/css" media="print" 
     href="templates/default/jspwiki_print.css" />
<!-- INCLUDERESOURCES (stylesheet) -->

<!-- INCLUDERESOURCES (inlinecss) -->



<noscript>
<style type="text/css">
#hiddenmorepopup { display:block; }
</style>
</noscript>


<script type="text/javascript" src="scripts/mootools.js"></script>
<script type="text/javascript" src="scripts/prettify.js"></script>
<script type="text/javascript" src="scripts/jspwiki-common.js"></script>
<script type="text/javascript" src="scripts/jspwiki-commonstyles.js"></script>
<!-- INCLUDERESOURCES (script) -->





<meta name="wikiContext" content='view' />
<meta name="wikiBaseUrl" content='http://rsf.fluidproject.org/wiki/' />
<meta name="wikiPageUrl" content='/wiki/Wiki.jsp?page=%23%24%25' />
<meta name="wikiEditUrl" content='/wiki/Edit.jsp?page=BeanGuards' />
<meta name="wikiJsonUrl" content='/wiki/JSON-RPC' />
<meta name="wikiPageName" content='BeanGuards' />
<meta name="wikiUserName" content='207.119.0.6' />
<meta name="wikiTemplateUrl" content='/wiki/templates/default/' />
<meta name="wikiApplicationName" content='RSF Wiki' />

<script type="text/javascript">//<![CDATA[
/* Localized javascript strings: LocalizedStrings[] */
var LocalizedStrings = {
"javascript.edit.allsections":"( All )",
"javascript.slimbox.error":"<h2>Error</h2>There was a problem with your request.<br />Please try again",
"javascript.slimbox.remoteRequest":"Remote Request {0} of {1}",
"javascript.slimbox.close":"Close &#215;",
"javascript.quick.edit":"[Edit]",
"javascript.sort.descending":"Descending order. Click to reverse sort order",
"javascript.expand":"Click to expand",
"javascript.group.validName":"Please provide a valid name for the new Group",
"javascript.slimbox.next":"Next&raquo;",
"javascript.filter.all":"( All )",
"javascript.edit.areyousure":"Without clicking the Save button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.quick.edit.title":"Edit section {0}...",
"javascript.slimbox.directLink":"Direct Link to the target",
"javascript.prefs.areyousure":"Without clicking the Save User Preferences button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.sbox.clone.suffix":"-New",
"javascript.slimbox.info":"Image {0} of {1}",
"javascript.tip.default.title":"More...",
"javascript.edit.resize":"Drag to resize the text area",
"javascript.edit.findandreplace.nomatch":"No match found!",
"javascript.sort.ascending":"Ascending order. Click to reverse sort order",
"javascript.slimbox.close.title":"Close [Esc]",
"javascript.edit.toolbar.makeSelection":"Please make first a selection.",
"javascript.favs.hide":"Click to hide Favorites",
"javascript.sectionediting.label":"Section Overview",
"javascript.slimbox.previous":"&laquo;Previous",
"javascript.favs.show":"Click to show Favorites",
"javascript.collapse":"Click to collapse",
"javascript.category.title":"Click to show category [{0}] ...",
"javascript.sort.click":"Click to sort",
"javascript.edit.startOfPage":"( Start of page )"
};


/* INCLUDERESOURCES (jsfunction) */

//]]></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="search" href="Wiki702d.html?page=FindPage"
    title='Search RSF Wiki' />
<link rel="help"   href="Wikia3b7.html?page=TextFormattingRules"
    title="Help" />

 <link rel="start"  href="Wikib2ab.html?page=Main"
    title="Front page" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki_print.css"
    title="Print friendly" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki.css"
    title="Standard" />
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />

<link rel="icon" type="image/x-icon" href="images/favicon.ico" />



  









  
  
  
</head>

<body class="view">

<div id="wikibody" class="fav-left">
 
  






<div id="header">

  <div class="titlebox"></div>

  <div class="applicationlogo" > 
    <a href="Wikib2ab.html?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="Login2fb2.html?redirect=BeanGuards" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="UserPreferences2fb2.html?redirect=BeanGuards"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>

  <div class="pagename">BeanGuards</div>

  <div class="searchbox">






<form action="http://rsf.fluidproject.org/wiki/Search.jsp"
        class="wikiform"
           id="searchForm" accept-charset="UTF-8">

  <div style="position:relative">
  <input onblur="if( this.value == '' ) { this.value = this.defaultValue }; return true; "
        onfocus="if( this.value == this.defaultValue ) { this.value = ''}; return true; "
           type="text" value="Quick Navigation"
           name="query" id="query"
           size="20" 
      accesskey="f" />
  <button type="submit"
  		 name="searchSubmit" id="searchSubmit"
  		value="Go!"
  		title="Go!"></button>
  </div>
  <div id="searchboxMenu" style='visibility:hidden;'>
    <div id="searchTools">
      <a href="#" id='quickView' class='action'
      onclick="SearchBox.navigate( 'Wiki195c.html?page=__PAGEHERE__','View the selected page' );"
        title="View the selected page">view</a>
      <a href="#" id='quickEdit' class='action'
      onclick="SearchBox.navigate( 'Logine830.html?page=__PAGEHERE__','Edit the selected page' );"
        title="Edit the selected page">edit</a>
      <a href="#" id='quickClone' class='action'	
      onclick="return SearchBox.navigate( 'Logine830.html?page=__PAGEHERE__', 'Clone the selected page', true );"
        title="Clone the selected page">clone</a>
      <a href="#" id="advancedSearch" class='action'
      onclick="SearchBox.navigate( 'Search136d.html?query=__PAGEHERE__','BeanGuards' )"
        title="Advanced Search [ f ]">find</a>
    </div>
    <div id="searchResult" >
	  Quick search
      <span id="searchTarget" >(type ahead)</span>
      <span id="searchSpin" class="spin" style="position:absolute;display:none;"></span>
	  <div id="searchOutput" ></div>
    </div>
    <div id="recentSearches" style="display:none;">
      Recent Searches
      <span><a href="#" id="recentClear">(Clear)</a></span>
    </div>
  </div>

</form></div>

  <div class="breadcrumbs">Your trail:&nbsp;<a class="wikipage" href="Wiki9f5d.html?page=NumberGuessing">NumberGuessing</a>, <a class="wikipage" href="Wikid65d.html?page=SellItemSWFSample">SellItemSWFSample</a>, <a class="wikipage" href="Wiki4d13.html?page=UniversalViewBus">UniversalViewBus</a>, <a class="wikipage" href="Wikic12d.html?page=BuildingWebappsUsingMaven">BuildingWebappsUsingMaven</a>, <a class="wikipage" href="Wikiac69.html?page=Maven2Setup">Maven2Setup</a>, <a class="wikipage" href="Wiki7256.html?page=AntranigBasman">AntranigBasman</a>, <a class="wikipage" href="Wikidc12.html?page=Downloads_0.7">Downloads_0.7</a>, <a class="wikipage" href="Wiki59a8.html?page=MultiFileTemplates">MultiFileTemplates</a>, <a class="wikipage" href="Wikibd65.html?page=Component">Component</a>, <a class="wikipage" href="Wiki37eb.html?page=Downloads_0.6.4">Downloads_0.6.4</a></div>

</div>

  <div id="content">

    <div id="page">
      





<div id="actionsTop" class="pageactions"> 
  <ul>

    
    
    

    
    <li id="morebutton">
      <a href="Wiki81b4.html?page=MoreMenu" class="action more">More...</a>
    </li>

  </ul>
</div>

      








<div class="tabmenu">

  

  

  
  
  
    
  
    
  



  <a class="activetab" id="menu-pagecontent" accesskey="v" ><span class='accesskey'>V</span>iew</a>

  

  
  <a id="menu-attach" accesskey="a" ><span class='accesskey'>A</span>ttach</a>
  
    
  <a id="menu-info" href='PageInfo250f.html?page=BeanGuards' accesskey="i" ><span class='accesskey'>I</span>nfo</a>
    
  

</div>
<div class="tabs">

  <div id="pagecontent" >

    











<p>BeanGuards are RSF's interception facility for accesses to its model via <a class="wikipage" href="Wiki2b2a.html?page=EL">EL</a> expressions. This is the basis of RSF's validation architecture, since a &quot;write&quot; mode BeanGuard can be used to provide guaranteed execution of logic, after request values have been applied, but before the request action has been invoked<a class="footnoteref" href="#ref-BeanGuards-1">[1]</a>. However, BeanGuards should properly be seen in the more general context of <i>interception</i>, as popularised via <a class="wikipage" href="Wiki03de.html?page=AOP">Aspect-oriented</a> frameworks such as Spring (or more militantly AOP ones such as AspectJ).
</p><p>A BeanGuard is an application-scope definition of a (Spring Bean), extending the framework bean parent <tt>beanGuardParent</tt>.   The properties of BeanGuard take on the following values, with the following interpretations (note that most of these have defaults, or are mutually exclusive - you should rarely have to specify more than one or two):
</p>
<p />
<table class="wikitable" border="1"><tr class="odd"><td><b>property</b></td><td><b>values</b></td><td><b>purpose</b></td></tr>
<tr><td><tt>mode</tt></td><td>READ, WRITE</td><td>Whether read or write accesses to the data model are to be guarded. Optional, defaults to WRITE (currently the only supported value)</td></tr>
<tr class="odd"><td><tt>guardTiming</tt></td><td>PRE, POST, AROUND</td><td>Whether the guard is to trigger before, after, or &quot;around&quot; the access. Optional, defaults to POST (currently the only supported value)</td></tr>
<tr><td><tt>guardedPath</tt></td><td>EL path</td><td>A specification (possibly with wildcards) of the EL path to be guarded. The specification will automatically match any nested paths. This value is <i>required</i>.</td></tr>
<tr class="odd"><td><tt>guard</tt></td><td>Object</td><td>An immediate object (Spring bean) which contains the code to be executed through the guarding process, in response to the access to <tt>guardedPath</tt>. This may either be a POJO, or implement the standard Spring <tt>Validator</tt> interface. You may specify <i>either</i> <tt>guard</tt> <i>or</i> <tt>guardEL</tt> and either <tt>guardMethod</tt> <i>or </i> <tt>guardProperty</tt>(see below).</td></tr>
<tr><td><tt>guardEL</tt></td><td>EL path</td><td>An EL path from which the &quot;guard&quot; object can be fetched, rather than specifying it inline. This allows guards derived from request-scope evaluations.</td></tr>
<tr class="odd"><td><tt>guardProperty</tt></td><td>[EL path].property name</td><td>The name of a property on the guard which will have the guarded object delivered to it. For this style of POJO the guard is assumed to trigger on execution of this setter. You may optionally fold the value of <tt>guardEL</tt> into the beginning of <tt>guardProperty</tt> to shorten the bean definition, e.g. &lt;property name=&quot;guardProperty&quot; value=&quot;guardBean.propertyName&quot;&gt; is the same as &lt;property name=&quot;guardEL&quot; value=&quot;guardBean&quot;&gt; &lt;property name=&quot;guardProperty&quot; value=&quot;propertyName&quot;&gt;</td></tr>
<tr><td><tt>guardMethod</tt></td><td>[EL path].method binding</td><td>If the <tt>guard</tt> object represents a POJO which is using &quot;action validation&quot;, this is a full <a class="wikipage" href="Wiki53e2.html?page=Bindings">method binding</a> (minus the #{} packaging) which will be invoked for the guard. The same condensation with <tt>guardEL</tt> that is allowed for <tt>guardProperty</tt> also works for <tt>guardMethod</tt></td></tr>
</table><p>If the guard is a Spring Validator, you should omit all of <tt>guardEL</tt>/<tt>guardProperty</tt>/<tt>guardMethod</tt>.
</p>
<p>The most typical use of a BeanGuard is in WRITE mode, used as a validator. If WRITE is specified, the <tt>guardTiming</tt> value will default to <tt>POST</tt>, resulting in the classic &quot;Validation&quot; pattern of triggering the guard code <i>after</i> write accesses to the model.
</p>
<p>If the <tt>guard</tt> object (whether fetched via <tt>guardEL</tt> or supplied directly) is a POJO, it is expected to expose some writeable property <tt>guardProperty</tt> which will receive the object at the EL accessed by <tt>guardedPath</tt>. The alternative to specifying a guard object itself, is to specify it implicitly by use of <tt>guardMethod</tt>. In this case the guard is expected to be implemented using normal RSF/JSF &quot;action bean&quot; semantics, and you must not specify either <tt>guard</tt> or <tt>guardEL</tt>.
</p>
<p>For example, we might have a POJO mapped to path <tt>logonAction</tt> via 
<tt>
 &lt;bean id=&quot;logonAction&quot;
    class=&quot;uk.org.ponder.rsf.testlogon.beans.LogonActionBean&quot;/&gt;
</tt>
at request scope, which has a zero-arg method named <tt>logon()</tt>.
</p>
<p>A &quot;validation&quot; type guard expression which uses this &quot;validation POJO&quot; to guard EL access to path <tt>logon</tt> might look like this (at app scope):
</p>
<pre>
  &lt;bean id=&quot;logonGuard&quot; parent=&quot;writeGuardParent&quot;&gt;
    &lt;property name=&quot;guardedPath&quot; value=&quot;logon&quot;/&gt;
    &lt;property name=&quot;guardMethod&quot; value=&quot;logonAction.logon&quot;/&gt;
  &lt;/bean&gt;
</pre>
(note that writeGuardParent is a BeanGuard that automatically defaults to WRITE mode)
<p>In POJO mode, any exception thrown by the guard will be added to the <tt>TargettedMessageList</tt> for the current request. The &quot;message&quot; text of the exception will be used as a message code for the message, which will be resolved against the <tt>messageLocator</tt> configured into your context. <i>ALL</i> triggered BeanGuards for a request are <i>guaranteed</i> to execute, even if Exceptions are thrown (unless those exceptions are also Java <tt>Errors</tt>, representing fatal JVM conditions). 
</p>
<p>More finegrained control of error formatting can be achieved by using a Spring Validator object rather than a POJO. In this case, the guard can be at application scope, and rather than a setter method, the <tt>validate</tt> method is called. This allows more complex messages to be built up via the <tt>reject</tt> methods, or explicit adding of <tt>FieldError</tt> or <tt>ObjectError</tt> objects. Consult the Spring documentation on <a class="external" href="http://static.springframework.org/spring/docs/2.0.x/reference/validation.html">validation</a><img class="outlink" src="images/out.png" alt="" /> for (very few) more details.
</p>
<p />
<hr />
<a class="footnote" name="ref-BeanGuards-1">[#1]</a> For developers who have used <a class="wikipage" href="Wikiabdd.html?page=JSF">JSF</a>, this timing sequence will be familiar. Sun's <a class="external" href="http://java.sun.com/j2ee/1.4/docs/tutorial/doc/JSFIntro10.html">diagram of the JSF request cycle</a><img class="outlink" src="images/out.png" alt="" /> shows request phases called &quot;Apply Request Values&quot;, &quot;Process Validations&quot; and &quot;Invoke Application&quot; - although it's worth noting the important difference that in RSF, request values are applied <i>directly to the model</i> and not to any intermediate component representation. Accompanying this is the lack of any &quot;Restore View&quot; cycle, and the lack of any explicit framework &quot;Process Events&quot; phases, although BeanGuards may be seen as the (framework-free) equivalent of this functionality.







        
  </div>


  

  
  <div id="attach" class="hidetab" >

    










<div id="addattachment">
<h3>Add new attachment</h3>


<div class="formhelp">Only authorized users are allowed to upload new attachments.</div>

</div>



  </div>

  
    
  <div id="info" class="hidetab" >

  </div>

    
  

<div style="clear:both;" ></div>
</div>

      







<div id='actionsBottom' class="pageactions"> 
    

    <a href="#top" 
      class="action quick2top" 
      title="Go to top" >&laquo;</a>

    
       This page (revision-) was last changed on <a href="Diffa224.html?page=BeanGuards&amp;r1=-1&amp;r2=1">14-Aug-2008 09:50</a> by UnknownAuthor
    

    

   

  

   
</div>

    </div>

    






<div id="favorites">

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="Login2fb2.html?redirect=BeanGuards" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="UserPreferences2fb2.html?redirect=BeanGuards"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>
  
  <div id="hiddenmorepopup">
  <ul id="morepopup">
     
       	
     
       
     
    
       
     
       <li>
       
       <a class="action rawpage wikipage" 
               href="Wikia17a.html?page=BeanGuards&amp;skin=raw"
              title="View Page Source">View Page Source
       </a>
       
       
       </li>
      
        
  
      
      
      

      
	  <li class='separator'>
        <div id="moremenu" ></div>
      </li>
  </ul>
  </div>
  
  

  

  

  
  <div class="leftmenu">
    <p><a class="wikipage" href="Wikib2ab.html?page=Main">Main page</a><br />
<tt> </tt><i><a class="wikipage" href="Wiki4d3f.html?page=ThisWiki">About</a></i><br />
</p><p><a class="wikipage" href="Wikid6f0.html?page=GettingStarted">Getting Started</a><br />
</p>
<p><b>Documentation</b><br />
<tt> </tt><a class="wikipage" href="Wiki4c8c.html?page=Developers">Developers</a><br />
<tt>  </tt><a class="wikipage" href="Wikib1ce.html?page=Javadocs">Javadocs</a><br />
<tt> </tt><a class="wikipage" href="Wikia56b.html?page=Designers">Designers</a><br />
<tt> </tt><a class="wikipage" href="Wiki4509.html?page=SampleRSFApps">Sample RSF Apps</a><br />
<tt> </tt><a class="wikipage" href="Wikif010.html?page=Presentations">Presentations</a><br />
<tt> </tt><a class="wikipage" href="Wiki45f9.html?page=Acronyms">Acronyms</a><br />
</p>
<p><b>Downloads</b><br />
<tt> </tt><a class="wikipage" href="Wiki30c9.html?page=CurrentCode">Current Release</a><br />
<tt> </tt><a class="wikipage" href="Wiki0e27.html?page=TrunkCode">Trunk</a><br />
<tt> </tt><a class="wikipage" href="Wiki1a8d.html?page=CodeDistributions">Distributions</a><br />
<tt> </tt><a class="wikipage" href="Wikiadaf.html?page=OldCode">Old Versions</a><br />
</p>
<p><b>Community</b><br />
<tt> </tt><a class="wikipage" href="Wiki84f4.html?page=QampA">Q&amp;A</a><br />
<tt> </tt><a class="external" href="http://ponder.org.uk/rsf/">Forums</a><img class="outlink" src="images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="Wikif345.html?page=EmailLists">Mailing Lists</a><br />
<tt> </tt><a class="external" href="http://www.caret.cam.ac.uk/jira/browse/RSF">Issue Tracker</a><img class="outlink" src="images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="Wiki1535.html?page=People">People</a><br />
</p>
<p><b>Design</b><br />
<tt> </tt><a class="wikipage" href="Wiki580c.html?page=Roadmap">Roadmap</a><br />
<tt> </tt><a class="wikipage" href="Wiki654d.html?page=Integrations">Integrations</a><br />
<tt> </tt><a class="wikipage" href="Wikia360.html?page=Concepts">Concepts</a><br />
<tt> </tt><a class="wikipage" href="Wiki151d.html?page=Philosophy">Philosophy</a><br />
</p>
<div style="font-style:italic;font-size:0.8em;">
<b>Pages</b><br />
<tt> </tt><a class="wikipage" href="Wiki702d.html?page=FindPage">Find</a><br />
<tt> </tt><a class="wikipage" href="Wiki5fc7.html?page=RecentChanges">Recent Changes</a><br />
<tt> </tt><a class="wikipage" href="Wikife97.html?page=UnusedPages">Unused</a><br />
<tt> </tt><a class="wikipage" href="Wiki5130.html?page=UndefinedPages">Undefined</a><br />
<tt> </tt><a class="wikipage" href="Wiki5f9e.html?page=PageIndex">Index</a>
</div>
<p />
    
  </div>
  
  <div class="leftmenufooter">
    <hr />
<p><b>Referenced by</b><br />
<a class="wikipage" href="Wiki6bff.html?page=LogonTest">LogonTest</a><br /><a class="wikipage" href="Wiki7ea2.html?page=LogonTest_3">LogonTest_3</a><br /><a class="wikipage" href="Wikibad7.html?page=News">News</a><br /><a class="wikipage" href="Wiki273d.html?page=PhonebookSWFSample">PhonebookSWFSample</a><br /><a class="wikipage" href="Wiki284f.html?page=RequestWriteableBean">RequestWriteableBean</a><br /><a class="wikipage" href="Wiki5de3.html?page=SakaiRSFTaskList">SakaiRSFTaskList</a><br /><a class="wikipage" href="Wikid65d.html?page=SellItemSWFSample">SellItemSWFSample</a><br /><a class="wikipage" href="Wikiada1.html?page=SpringFramework">SpringFramework</a><br /><a class="wikipage" href="Wikie29f.html?page=SpringMVCStepRSF">SpringMVCStepRSF</a><br /><a class="wikipage" href="Wikibefa.html?page=TargettedMessageList">TargettedMessageList</a><br />
</p>
    
  </div>

  

  
  
  <div class="wikiversion">JSPWiki v2.8.2
  <span class="rssfeed">
    
  </span>
  </div>  
  
</div>

	<div class="clearbox"></div>
  </div>

  





 
<div id="footer">

  <div class="applicationlogo" > 
    <a href="Wikib2ab.html?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  <div class="copyright"></div>

  <div class="wikiversion">
    JSPWiki v2.8.2
  </div>

  <div class="rssfeed">
    
  </div>

</div>

</div>

</body>

<!-- Mirrored from rsf.fluidproject.org/wiki/Wiki.jsp?page=BeanGuards by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:01:57 GMT -->
</html>

