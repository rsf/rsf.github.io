












<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html id="top" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from rsf.fluidproject.org/wiki/Diff.jsp?page=SakaiRSF&r1=-1 by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:55:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <title>
    RSF Wiki: SakaiRSF
  </title>
  











<link rel="stylesheet" media="screen, projection, print" type="text/css"
     href="templates/default/jspwiki.css"/>

<link rel="stylesheet" type="text/css" media="print" 
     href="templates/default/jspwiki_print.css" />
<!-- INCLUDERESOURCES (stylesheet) -->

<!-- INCLUDERESOURCES (inlinecss) -->



<noscript>
<style type="text/css">
#hiddenmorepopup { display:block; }
</style>
</noscript>


<script type="text/javascript" src="scripts/mootools.js"></script>
<script type="text/javascript" src="scripts/prettify.js"></script>
<script type="text/javascript" src="scripts/jspwiki-common.js"></script>
<script type="text/javascript" src="scripts/jspwiki-commonstyles.js"></script>
<!-- INCLUDERESOURCES (script) -->





<meta name="wikiContext" content='diff' />
<meta name="wikiBaseUrl" content='http://rsf.fluidproject.org/wiki/' />
<meta name="wikiPageUrl" content='/wiki/Wiki.jsp?page=%23%24%25' />
<meta name="wikiEditUrl" content='/wiki/Edit.jsp?page=SakaiRSF' />
<meta name="wikiJsonUrl" content='/wiki/JSON-RPC' />
<meta name="wikiPageName" content='SakaiRSF' />
<meta name="wikiUserName" content='207.119.0.6' />
<meta name="wikiTemplateUrl" content='/wiki/templates/default/' />
<meta name="wikiApplicationName" content='RSF Wiki' />

<script type="text/javascript">//<![CDATA[
/* Localized javascript strings: LocalizedStrings[] */
var LocalizedStrings = {
"javascript.edit.allsections":"( All )",
"javascript.slimbox.error":"<h2>Error</h2>There was a problem with your request.<br />Please try again",
"javascript.slimbox.remoteRequest":"Remote Request {0} of {1}",
"javascript.slimbox.close":"Close &#215;",
"javascript.quick.edit":"[Edit]",
"javascript.sort.descending":"Descending order. Click to reverse sort order",
"javascript.expand":"Click to expand",
"javascript.group.validName":"Please provide a valid name for the new Group",
"javascript.slimbox.next":"Next&raquo;",
"javascript.filter.all":"( All )",
"javascript.edit.areyousure":"Without clicking the Save button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.quick.edit.title":"Edit section {0}...",
"javascript.slimbox.directLink":"Direct Link to the target",
"javascript.prefs.areyousure":"Without clicking the Save User Preferences button, your changes will be lost. Are you sure you want to exit this page?",
"javascript.sbox.clone.suffix":"-New",
"javascript.slimbox.info":"Image {0} of {1}",
"javascript.tip.default.title":"More...",
"javascript.edit.resize":"Drag to resize the text area",
"javascript.edit.findandreplace.nomatch":"No match found!",
"javascript.sort.ascending":"Ascending order. Click to reverse sort order",
"javascript.slimbox.close.title":"Close [Esc]",
"javascript.edit.toolbar.makeSelection":"Please make first a selection.",
"javascript.favs.hide":"Click to hide Favorites",
"javascript.sectionediting.label":"Section Overview",
"javascript.slimbox.previous":"&laquo;Previous",
"javascript.favs.show":"Click to show Favorites",
"javascript.collapse":"Click to collapse",
"javascript.category.title":"Click to show category [{0}] ...",
"javascript.sort.click":"Click to sort",
"javascript.edit.startOfPage":"( Start of page )"
};


/* INCLUDERESOURCES (jsfunction) */

//]]></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="search" href="Wiki702d.html?page=FindPage"
    title='Search RSF Wiki' />
<link rel="help"   href="Wikia3b7.html?page=TextFormattingRules"
    title="Help" />

 <link rel="start"  href="Wikib2ab.html?page=Main"
    title="Front page" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki_print.css"
    title="Print friendly" />
<link rel="alternate stylesheet" type="text/css" href="templates/default/jspwiki.css"
    title="Standard" />
<link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />

<link rel="icon" type="image/x-icon" href="images/favicon.ico" />



  









  
  
    <meta name="robots" content="noindex,nofollow" />
  
  
    <meta name="robots" content="noindex,follow" />
  
</head>

<body class="view">

<div id="wikibody" class="fav-left">
 
  






<div id="header">

  <div class="titlebox"></div>

  <div class="applicationlogo" > 
    <a href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="http://rsf.fluidproject.org/wiki/Login.jsp?redirect=SakaiRSF" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="http://rsf.fluidproject.org/wiki/UserPreferences.jsp?redirect=SakaiRSF"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>

  <div class="pagename">SakaiRSF</div>

  <div class="searchbox">






<form action="http://rsf.fluidproject.org/wiki/Search.jsp"
        class="wikiform"
           id="searchForm" accept-charset="UTF-8">

  <div style="position:relative">
  <input onblur="if( this.value == '' ) { this.value = this.defaultValue }; return true; "
        onfocus="if( this.value == this.defaultValue ) { this.value = ''}; return true; "
           type="text" value="Quick Navigation"
           name="query" id="query"
           size="20" 
      accesskey="f" />
  <button type="submit"
  		 name="searchSubmit" id="searchSubmit"
  		value="Go!"
  		title="Go!"></button>
  </div>
  <div id="searchboxMenu" style='visibility:hidden;'>
    <div id="searchTools">
      <a href="#" id='quickView' class='action'
      onclick="SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Wiki.jsp?page=__PAGEHERE__','View the selected page' );"
        title="View the selected page">view</a>
      <a href="#" id='quickEdit' class='action'
      onclick="SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Edit.jsp?page=__PAGEHERE__','Edit the selected page' );"
        title="Edit the selected page">edit</a>
      <a href="#" id='quickClone' class='action'	
      onclick="return SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Edit.jsp?page=__PAGEHERE__', 'Clone the selected page', true );"
        title="Clone the selected page">clone</a>
      <a href="#" id="advancedSearch" class='action'
      onclick="SearchBox.navigate( 'http://rsf.fluidproject.org/wiki/Search.jsp?query=__PAGEHERE__','SakaiRSF' )"
        title="Advanced Search [ f ]">find</a>
    </div>
    <div id="searchResult" >
	  Quick search
      <span id="searchTarget" >(type ahead)</span>
      <span id="searchSpin" class="spin" style="position:absolute;display:none;"></span>
	  <div id="searchOutput" ></div>
    </div>
    <div id="recentSearches" style="display:none;">
      Recent Searches
      <span><a href="#" id="recentClear">(Clear)</a></span>
    </div>
  </div>

</form></div>

  <div class="breadcrumbs">Your trail:&nbsp;<a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UserCheckTag">UserCheckTag</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UserNameTag">UserNameTag</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ValueBinding">ValueBinding</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=VariableTag">VariableTag</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=VeryLazyBeans">VeryLazyBeans</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ViewID">ViewID</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ViewRender">ViewRender</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=WeblogEntryPlugin">WeblogEntryPlugin</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=WeblogPlugin">WeblogPlugin</a>, <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=WikiFormsExampleText">WikiFormsExampleText</a></div>

</div>

  <div id="content">

    <div id="page">
      





<div id="actionsTop" class="pageactions"> 
  <ul>

    
    
    

    
    <li id="morebutton">
      <a href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=MoreMenu" class="action more">More...</a>
    </li>

  </ul>
</div>

      


















  <div class="tabmenu">

  

  

  
  

  

  <a id="menu-pagecontent" href='http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSF' accesskey="v" ><span class='accesskey'>V</span>iew</a>

  <a id="menu-attach" accesskey="a" ><span class='accesskey'>A</span>ttach (3)</a>

  
  <a class="activetab" id="menu-info" accesskey="i" ><span class='accesskey'>I</span>nfo</a>

  </div>
<div class="tabs">

  <div id="pagecontent" class="hidetab" >

      
  </div>


  <div id="attach" class="hidetab" >

    










<div id="addattachment">
<h3>Add new attachment</h3>


<div class="formhelp">Only authorized users are allowed to upload new attachments.</div>

</div>



<h3>List of attachments</h3>

  

  

  <div class="zebra-table"><div class="slimbox-img sortable">
  <table class="wikitable">
    <tr>
      <th>Kind</th>
      <th>Attachment Name</th>
      <th>Size</th>
      <th>Version</th>
      <th>Date Modified</th>
      <th>Author</th>
      
      <th class="changenote">Change note</th>
    </tr>

    
    
    <tr>
      <td><div id="attach-png" class="attachtype">png</div></td>
      <td><a class="attachment" href="http://rsf.fluidproject.org/wiki/attach/SakaiRSF/sakai-cookbook-template.png" accesskey="" title="sakai-cookbook-template.png">sakai-cookbook-template.png</a></td>
      <td style="white-space:nowrap;text-align:right;">
        21.2&nbsp;kB
      </td>
      <td style="text-align:center;">
        <a href="http://rsf.fluidproject.org/wiki/PageInfo.jsp?page=SakaiRSF/sakai-cookbook-template.png" title="Attachment info and version history">1</a>
      </td>
	  <td style="white-space:nowrap;" sortvalue="Wed, 19 Jul 2006 09:36:23">
	  19-Jul-2006 09:36
	  </td>
      <td><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=AntranigBasman">AntranigBasman</a></td>
      
      <td class="changenote">
      
      </td>
    </tr>
    
    
    <tr>
      <td><div id="attach-png" class="attachtype">png</div></td>
      <td><a class="attachment" href="http://rsf.fluidproject.org/wiki/attach/SakaiRSF/sakai-cookbook.png" accesskey="" title="sakai-cookbook.png">sakai-cookbook.png</a></td>
      <td style="white-space:nowrap;text-align:right;">
        52.0&nbsp;kB
      </td>
      <td style="text-align:center;">
        <a href="http://rsf.fluidproject.org/wiki/PageInfo.jsp?page=SakaiRSF/sakai-cookbook.png" title="Attachment info and version history">1</a>
      </td>
	  <td style="white-space:nowrap;" sortvalue="Wed, 19 Jul 2006 09:36:23">
	  19-Jul-2006 09:36
	  </td>
      <td><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=AntranigBasman">AntranigBasman</a></td>
      
      <td class="changenote">
      
      </td>
    </tr>
    
    
    <tr>
      <td><div id="attach-png" class="attachtype">png</div></td>
      <td><a class="attachment" href="http://rsf.fluidproject.org/wiki/attach/SakaiRSF/sakai-numberguess-2.png" accesskey="" title="sakai-numberguess-2.png">sakai-numberguess-2.png</a></td>
      <td style="white-space:nowrap;text-align:right;">
        122.4&nbsp;kB
      </td>
      <td style="text-align:center;">
        <a href="http://rsf.fluidproject.org/wiki/PageInfo.jsp?page=SakaiRSF/sakai-numberguess-2.png" title="Attachment info and version history">1</a>
      </td>
	  <td style="white-space:nowrap;" sortvalue="Wed, 19 Jul 2006 09:36:23">
	  19-Jul-2006 09:36
	  </td>
      <td><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=AntranigBasman">AntranigBasman</a></td>
      
      <td class="changenote">
      
      </td>
    </tr>
    

  </table>
  </div></div>



  </div>


  
  <div id="info" >

  <p>
  This page (revision-1) was last changed on <a href="http://rsf.fluidproject.org/wiki/Diff.jsp?page=SakaiRSF&amp;r1=-1&amp;r2=1"
        title="Show changes of last page update" >
        04-Apr-2011 02:04
      </a> by <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=AntranigBasman">antranig basman</a>

  
  </p>

  

  
  
      <p>Only authorized users are allowed to rename pages.</p>
  

  
  
      <p>Only authorized users are allowed to delete pages.</p>
  

  <div class="collapsebox-closed" id="incomingLinks">
  <h4>Incoming links</h4>
    <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSF" accesskey="" title="">SakaiRSF</a>
    <ul><li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Integrations">Integrations</a>
</li><li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SpringAPI">SpringAPI</a>
</li></ul>
  </div>

  <div class="collapsebox-closed" id="outgoingLinks">
  <h4>Outgoing links</h4>
    <div class="ReferredPagesPlugin">
<a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSF" title="ReferredPagesPlugin: depth[1] include[.*] exclude[^$] format[compact]">SakaiRSF</a>
<ul>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=HibernateCookBook_1">HibernateCookBook_1</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=JSR168">JSR168</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=NumberGuessing">NumberGuessing</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=RSAC">RSAC</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSFTaskList">SakaiRSFTaskList</a></li>
<li><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=TokenStateHolder">TokenStateHolder</a></li>
</ul>
</div>

  </div>

  <div class="clearbox"></div>

  
  
     












<form action="http://rsf.fluidproject.org/wiki/Diff.jsp" method="get" accept-charset="UTF-8">
<div class="collapsebox" id="diffcontent">
  <h4>
       <input type="hidden" name="page" value="SakaiRSF" />
       Difference between version <select id="r1" name="r1" onchange="this.form.submit();" >
           
             <option value="-1" selected="selected" >-1</option>
           
           </select> and <select id="r2" name="r2" onchange="this.form.submit();" >
           
             <option value="-1" selected="selected" >-1</option>
           
           </select>
  </h4>

  

  <div class="diffbody">
    <table class="diff" border="0" cellspacing="0" cellpadding="0">
<tr><td class="diff">At line 1 added 74 lines</td></tr>
<tr><td class="diffadd">[http://www.sakaiproject.org/images/stories/conferenceLogos/logoslate160x89.jpg]The [Sakai project|http://sakaiproject.org/] is a &quot;Collaboration and Learning Environment&quot; for higher education, that is, an open source Java software framework operating an institutional portal. Sakai defines its own dispatch mechanism operating within a (mostly) standard webapp container to tools which are provided packaged as Servlets together with a suitable manifest.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">SakaiRSF is the integration library to be used by Sakai tools. SakaiRSF is held in this [github project|https://github.com/rsf/SakaiRSF][1] and consists of the handful of beans (in the standard requestScope/applicationScope split) needed to abstract over the request dispatch cycle. The library also defines a suitable [TokenStateHolder], InSakaiSessionTSH, which guides RSF to store any &quot;conversational&quot; request state (i.e. flow state) in the appopriate Sakai ToolSession rather than the HttpSession.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">From here, Sakai integration is just a matter of supplying appropriately styled view templates. </td></tr>
<tr><td class="diffadd">!! {{web.xml}} for Sakai-RSF tools</td></tr>
<tr><td class="diffadd">The correct paths and configuration files must be set up in web.xml, of which you can see a sample in SVN, here for the [CRUDplus OTP sample|https://github.com/rsf/SakaiRSFSamples/blob/master/CRUDPlus-OTP/tool/src/webapp/WEB-INF/web.xml]. The most important section sets up the configuration for Spring and [RSAC], which is in a stack of 5 contexts, one for each technology in use:</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">|&lt;param-value&gt;</td></tr>
<tr><td class="diffadd">|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;classpath:conf/rsf-config.xml,|The core RSF Spring configuration</td></tr>
<tr><td class="diffadd">|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;classpath:conf/blank-applicationContext.xml,|The &quot;blank&quot; RSF Spring configuration, containing typically overridable implementations</td></tr>
<tr><td class="diffadd">|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;classpath:conf/hibernate-applicationContext.xml,|The configuration required for Hibernate integration</td></tr>
<tr><td class="diffadd">|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;classpath:conf/sakai-applicationContext.xml,|Configuration for SakaiRSF</td></tr>
<tr><td class="diffadd">|&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/WEB-INF/applicationContext.xml|The webapp's own configuration</td></tr>
<tr><td class="diffadd">|&lt;/param-value&gt;</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">Since these files form a single Spring context, and they override beans in order from the base, it is critical that they are listed in this order. The same goes for the request-scope configuration files assigned to {{requestContextConfigLocation}}.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">In current versions of SakaiRSF the filter mapping for the Sakai request filter may %%(color:red; font-weight:bold) not be changed%% from {{/faces/*}}, although this configuration is generally irrelevant to end users in any case since tool URLs are theoretically private to the portal.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">&lt;filter-mapping&gt;</td></tr>
<tr><td class="diffadd">    &lt;filter-name&gt;sakai.request&lt;/filter-name&gt;</td></tr>
<tr><td class="diffadd">    &lt;url-pattern&gt;/faces/*&lt;/url-pattern&gt;</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">The current version of SakaiRSF references RSF 0.7 and Sakai &quot;2.2.x&quot; which is a generic term referring to any version of Sakai from 2.2.0 onwards. To work with prior versions of Sakai such as 2.1.0 you will need to use corresponding older versions of RSF (0.6.3).</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!!Samples</td></tr>
<tr><td class="diffadd">The two major samples, NumberGuessing and HibernateCookbook have been ported over to Sakai to demonstrate the same Java code running untouched in a quite different environment, with the appropriate restyling achieved through previewable HTML templates.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">Also has been ported the &quot;TaskList&quot; sample (originally in JSF) from the [Sakai Programmers' Cafe|http://bug.sakaiproject.org/confluence/display/BOOT/Home] held at Vancouver in May 2006 -</td></tr>
<tr><td class="diffadd">The original JSF version from which it was taken is in Sakai contrib SVN at [https://source.sakaiproject.org/contrib/programmerscafe/trunk/tasklist/]. This is described on its own page here at [SakaiRSFTaskList].</td></tr>
<tr><td class="diffadd">!NumberGuessing</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">Here is a screenshot of the NumberGuessing sample running in Sakai. In the [SVN project|https://saffron.caret.cam.ac.uk/svn/projects/SakaiRSFSamples/trunk/NumberGuess/]. This uses the standard Maven Sakai plugin - simply check out this project (which will also check out the &quot;base&quot; project  containing the app definition from the standalone [NumberGuessing] app) and run &quot;maven sakai&quot;. </td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">[{Image src='sakai-numberguess-2.png' align='center'}]</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!Hibernate Cookbook</td></tr>
<tr><td class="diffadd">The version of the Hibernate Cookbook sample is slightly more complex, and it was decided simply to fork the code into two completely new projects, one called [RSFCookbook-category-datamodel|https://saffron.caret.cam.ac.uk/svn/projects/RSFHibernateCookbook/trunk/category-datamodel/] holding only the Hibernate auto-generated data model for the app, and the other holding the (original Java, but repackaged) code in [RSFCookbook-sakai-javacategory|https://saffron.caret.cam.ac.uk/svn/projects/RSFHibernateCookbook/trunk/sakai-javacategory/]. This is necessary because of the different deployment fates of the tool code and datamodel code - in a Hibernate Sakai application, the data model must be visible to the Hibernate library operating across the entire Sakai installation, and hence must be copied to the {{shared}} Classloader level in the Tomcat instance. The webapp itself is sent to the normal location. In a production application, you would most likely create 3 (or more) projects, for the data model, application code, and webapp packaging separately. This project uses the standard {{maven sakai}} build invoked on the main webapp.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">Here is the cookbook app running in Sakai. All controls have been rearranged in accordance with Sakai UI guidelines and styling - you may want to compare this shot with the same app [running standalone|HibernateCookBook_1] (the view there is actually of an earlier version of the app).</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">[{Image src='sakai-cookbook.png' align='center'}]</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!Previewing</td></tr>
<tr><td class="diffadd">One great merit of the RSF approach is how easy it is to develop the UI with full previewability using standard tools. With Sakai there is a slight nuisance that the referenced stylesheets and Javascript files are not present in the same webapp, and in addition are referenced using &quot;absolute&quot; server-relative URLs of the form {{&lt;link href=&quot;/library/skin/tool_base.css&quot;}} which makes it virtually impossible to put them in the local filesystem at a place they could be resolved from the template. I have written a few tiny scripts that get over this problem by performing a global search-and-replace on Sakai template references, and make it easy to develop the UI directly in the filesystem seeing how the pages will actually be rendered live.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">UNIX hackers will be able to adapt these in a superior way, but bundled with this app in the [bats|https://saffron.caret.cam.ac.uk/svn/projects/SakaiRSFSamples/trunk/HibernateCookbook/tool/bats/] directory are helpers for lowly Windows users. The base utilities are lines of the form</td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">find . -name &quot;*.html&quot; | xargs sed -i -e 's/href=&quot;\/library/href=&quot;%1/'</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd">which require the excellent [Cygwin|http://www.cygwin.com/] libraries to be installed on your machine - consult postings by Ray Davis on sakai-dev (early March 2006) for more information on the benefits.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">While you are developing your templates, issue </td></tr>
<tr><td class="diffadd">{{{</td></tr>
<tr><td class="diffadd">makeabsl</td></tr>
<tr><td class="diffadd">}}}</td></tr>
<tr><td class="diffadd">to replace references with relative versions, and before you issue the build using {{maven sakai}}, run {{makerell}} to convert the stylesheet references back into the global-slash versions. Edit the paths in {{makerell.bat}} and {{makeabsl.bat}} to suit your system.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">Here is a screenshot of the template for the above view being previewed from the filesystem, together with its functional Javascript box! This is what we call, &quot;Ruby in the Dust&quot; :P</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">[{Image src='sakai-cookbook-template.png' align='center'}]</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">!! Future</td></tr>
<tr><td class="diffadd">Note that there are stub factory methods to deliver request-scope instances of typical Sakai entities such as Site, SitePage, User etc. which enable proper request-scope programming in the RSF style, rather than having express a dependence in your code on HttpServletRequest attributes, and/or passing these objects around by yourself. These will be extended to a fuller set as RSF Sakai development continues, but in the meantime it is quite easy to write these definitions yourself - consult [SakaiRequestParser|https://github.com/rsf/SakaiRSF/blob/master/src/java/uk/ac/cam/caret/sakai/rsf/servlet/SakaiRequestParser.java] </td></tr>
<tr><td class="diffadd">and [sakai-requestContext.xml|https://github.com/rsf/SakaiRSF/blob/master/src/java/conf/sakai-requestContext.xml] for examples.</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">Believe me, this is ''amazingly easy'' compared to other approaches you may be used to :P</td></tr>
<tr><td class="diffadd"></td></tr>
<tr><td class="diffadd">A similar [JSR-168] library for use in other portals such as [uPortal|http://www.uportal.org/] is now also available. </td></tr>
<tr><td class="diffadd">----</td></tr>
<tr><td class="diffadd">[#1] Note that when checking out this source, you will save time if you adhere to the RSF convention of checking out libraries into the workspace prefixed by J (e.g. J-RSFSakai), so that interproject references remain correct. This will happen automatically if you check out using one of the &quot;bundles&quot; holding SVN externals, in saffron SVN at [https://saffron.caret.cam.ac.uk/svn/bundles/].</td></tr>
</table>
 
  </div>
</div>
</form>

  
  

	
    
    

    

    <div class="zebra-table sortable table-filter">
    <table class="wikitable" >
      <tr>
        <th>Version</th>
        <th>Date Modified</th>
        <th>Size</th>
        <th>Author</th>
        <th>Changes ...</th>
        <th class='changenote'>Change note</th>
      </tr>

      
      
      <tr>
        <td>
          <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSF&amp;version=-1" accesskey="" title="">
            
          </a>
        </td>

	    <td style="white-space:nowrap;" sortvalue="Mon, 4 Apr 2011 02:04:08">
        04-Apr-2011 02:04
        </td>
        <td style="white-space:nowrap;text-align:right;">
          
          8.955&nbsp;kB
        </td>
        <td><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=AntranigBasman">antranig basman</a></td>

        <td>
          

          
        </td>

         <td class="changenote">
           
           
         </td>

      </tr>
      
      

    </table>
    </div>
    
    
  </div>


  <div style="clear:both;" ></div>
</div>













      







<div id='actionsBottom' class="pageactions"> 
    

    <a href="#top" 
      class="action quick2top" 
      title="Go to top" >&laquo;</a>

    
       This page (revision-) was last changed on <a href="http://rsf.fluidproject.org/wiki/Diff.jsp?page=SakaiRSF&amp;r1=-1&amp;r2=1">04-Apr-2011 02:04</a> by <a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=AntranigBasman">antranig basman</a>
    

    

   

  

   
</div>

    </div>

    






<div id="favorites">

  






<div class="userbox">

  
    <span class="username anonymous">
      G&#8217;day (anonymous guest)
    </span>
  
  
  

  
  
  
    
      <a href="http://rsf.fluidproject.org/wiki/Login.jsp?redirect=SakaiRSF" 
        class="action login"
        title="Log in or Register as new user">Log in</a>
    
  
  
  
  

  
  
    <a href="http://rsf.fluidproject.org/wiki/UserPreferences.jsp?redirect=SakaiRSF"
      class="action prefs" accesskey="p"
      title="Manage your preferences [ p ]">My <span class='accesskey'>P</span>refs
    </a>
  
  

  <div class="clearbox"></div>

</div>
  
  <div id="hiddenmorepopup">
  <ul id="morepopup">
     
       	
     
       
     
    
       
     
       <li>
       
       <a class="action rawpage wikipage" 
               href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SakaiRSF&amp;skin=raw"
              title="View Page Source">View Page Source
       </a>
       
       
       </li>
      
        
  
      
      
      

      
	  <li class='separator'>
        <div id="moremenu" ></div>
      </li>
  </ul>
  </div>
  
  

  

  

  
  <div class="leftmenu">
    <p><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main">Main page</a><br />
<tt> </tt><i><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=ThisWiki">About</a></i><br />
</p><p><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=GettingStarted">Getting Started</a><br />
</p>
<p><b>Documentation</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Developers">Developers</a><br />
<tt>  </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Javadocs">Javadocs</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Designers">Designers</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SampleRSFApps">Sample RSF Apps</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Presentations">Presentations</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Acronyms">Acronyms</a><br />
</p>
<p><b>Downloads</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=CurrentCode">Current Release</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=TrunkCode">Trunk</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=CodeDistributions">Distributions</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=OldCode">Old Versions</a><br />
</p>
<p><b>Community</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=QampA">Q&amp;A</a><br />
<tt> </tt><a class="external" href="http://ponder.org.uk/rsf/">Forums</a><img class="outlink" src="http://rsf.fluidproject.org/wiki/images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=EmailLists">Mailing Lists</a><br />
<tt> </tt><a class="external" href="http://www.caret.cam.ac.uk/jira/browse/RSF">Issue Tracker</a><img class="outlink" src="http://rsf.fluidproject.org/wiki/images/out.png" alt="" /><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=People">People</a><br />
</p>
<p><b>Design</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Roadmap">Roadmap</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Integrations">Integrations</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Concepts">Concepts</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Philosophy">Philosophy</a><br />
</p>
<div style="font-style:italic;font-size:0.8em;">
<b>Pages</b><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=FindPage">Find</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=RecentChanges">Recent Changes</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UnusedPages">Unused</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=UndefinedPages">Undefined</a><br />
<tt> </tt><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=PageIndex">Index</a>
</div>
<p />
    
  </div>
  
  <div class="leftmenufooter">
    <hr />
<p><b>Referenced by</b><br />
<a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Integrations">Integrations</a><br /><a class="wikipage" href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=SpringAPI">SpringAPI</a><br />
</p>
    
  </div>

  

  
  
  <div class="wikiversion">JSPWiki v2.8.2
  <span class="rssfeed">
    
  </span>
  </div>  
  
</div>

	<div class="clearbox"></div>
  </div>

  





 
<div id="footer">

  <div class="applicationlogo" > 
    <a href="http://rsf.fluidproject.org/wiki/Wiki.jsp?page=Main"
       title="Go to home page Main ">Home</a>
  </div>

  <div class="companylogo"></div>

  <div class="copyright"></div>

  <div class="wikiversion">
    JSPWiki v2.8.2
  </div>

  <div class="rssfeed">
    
  </div>

</div>

</div>

</body>

<!-- Mirrored from rsf.fluidproject.org/wiki/Diff.jsp?page=SakaiRSF&r1=-1 by HTTrack Website Copier/3.x [XR&CO'2013], Fri, 07 Jun 2013 15:55:18 GMT -->
</html>
